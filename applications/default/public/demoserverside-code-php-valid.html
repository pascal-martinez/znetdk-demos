<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/strict.dtd">
<html>
<head>
<META http-equiv=Content-Type content="text/html; charset=windows-1252">
<title>Exported from Notepad++</title>
<style type="text/css">
span {
	font-family: 'Courier New';
	font-size: 10pt;
	color: #000000;
}
.sc18 {
	color: #FF0000;
	background: #FDF8E3;
}
.sc118 {
	background: #FEFCF5;
}
.sc119 {
	color: #808080;
	background: #FEFCF5;
}
.sc120 {
	color: #808080;
	background: #FEFCF5;
}
.sc121 {
	font-weight: bold;
	color: #0000FF;
	background: #FEFCF5;
}
.sc122 {
	color: #FF8000;
	background: #FEFCF5;
}
.sc123 {
	color: #000080;
	background: #FEFCF5;
}
.sc124 {
	color: #008000;
	background: #FEFCF5;
}
.sc127 {
	color: #8000FF;
	background: #FEFCF5;
}
</style>
</head>
<body>
<div style="float: left; white-space: pre; line-height: 1; background: #FFFFFF; "><span class="sc18">&lt;?php</span><span class="sc118">

namespace app\validator</span><span class="sc127">;</span><span class="sc118">

</span><span class="sc121">class</span><span class="sc118"> MyValidator </span><span class="sc121">extends</span><span class="sc118"> \Validator </span><span class="sc127">{</span><span class="sc118">
    </span><span class="sc124">/**
     * Form data to be checked by the validator. 
     */</span><span class="sc118">
    </span><span class="sc121">protected</span><span class="sc118"> </span><span class="sc121">function</span><span class="sc118"> initVariables</span><span class="sc127">()</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
        </span><span class="sc121">return</span><span class="sc118"> </span><span class="sc121">array</span><span class="sc127">(</span><span class="sc120">'fld_required'</span><span class="sc127">,</span><span class="sc118"> </span><span class="sc120">'list_required'</span><span class="sc127">,</span><span class="sc118"> </span><span class="sc120">'fld_maxlength'</span><span class="sc127">,</span><span class="sc118">
            </span><span class="sc120">'fld_pattern'</span><span class="sc127">,</span><span class="sc120">'fld_minvalue'</span><span class="sc127">,</span><span class="sc120">'fld_maxvalue'</span><span class="sc127">,</span><span class="sc120">'fld_date'</span><span class="sc127">,</span><span class="sc118">
            </span><span class="sc120">'fld_email'</span><span class="sc127">,</span><span class="sc120">'fld_url'</span><span class="sc127">);</span><span class="sc118">
    </span><span class="sc127">}</span><span class="sc118">
    </span><span class="sc124">/**
     * Form data that are optional
     */</span><span class="sc118">
    </span><span class="sc121">protected</span><span class="sc118"> </span><span class="sc121">function</span><span class="sc118"> initOptionalVariables</span><span class="sc127">()</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
        </span><span class="sc121">return</span><span class="sc118"> </span><span class="sc121">array</span><span class="sc127">(</span><span class="sc120">'fld_maxlength'</span><span class="sc127">,</span><span class="sc118"> </span><span class="sc120">'fld_pattern'</span><span class="sc127">,</span><span class="sc120">'fld_minvalue'</span><span class="sc127">,</span><span class="sc118">
            </span><span class="sc120">'fld_maxvalue'</span><span class="sc127">,</span><span class="sc120">'fld_date'</span><span class="sc127">,</span><span class="sc120">'fld_email'</span><span class="sc127">,</span><span class="sc120">'fld_url'</span><span class="sc127">);</span><span class="sc118">
    </span><span class="sc127">}</span><span class="sc118">

    </span><span class="sc121">protected</span><span class="sc118"> </span><span class="sc121">function</span><span class="sc118"> check_fld_maxlength</span><span class="sc127">(</span><span class="sc123">$value</span><span class="sc127">)</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
        </span><span class="sc121">if</span><span class="sc118"> </span><span class="sc127">(</span><span class="sc118">strlen</span><span class="sc127">(</span><span class="sc123">$value</span><span class="sc127">)</span><span class="sc118"> </span><span class="sc127">&gt;</span><span class="sc118"> </span><span class="sc122">4</span><span class="sc127">)</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
            </span><span class="sc123">$this</span><span class="sc127">-&gt;</span><span class="sc118">setErrorMessage</span><span class="sc127">(</span><span class="sc119">"ZnetDK (server) - A maximum of 4 characters is expected!"</span><span class="sc127">);</span><span class="sc118">
            </span><span class="sc121">return</span><span class="sc118"> </span><span class="sc121">false</span><span class="sc127">;</span><span class="sc118">
        </span><span class="sc127">}</span><span class="sc118"> </span><span class="sc121">else</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
            </span><span class="sc121">return</span><span class="sc118"> </span><span class="sc121">true</span><span class="sc127">;</span><span class="sc118">
        </span><span class="sc127">}</span><span class="sc118">
    </span><span class="sc127">}</span><span class="sc118">
    
    </span><span class="sc121">protected</span><span class="sc118"> </span><span class="sc121">function</span><span class="sc118"> check_fld_pattern</span><span class="sc127">(</span><span class="sc123">$value</span><span class="sc127">)</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
        </span><span class="sc121">if</span><span class="sc118"> </span><span class="sc127">(!</span><span class="sc118">preg_match</span><span class="sc127">(</span><span class="sc120">'/[A-Z]{3}$/'</span><span class="sc127">,</span><span class="sc118"> </span><span class="sc123">$value</span><span class="sc127">))</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
            </span><span class="sc123">$this</span><span class="sc127">-&gt;</span><span class="sc118">setErrorMessage</span><span class="sc127">(</span><span class="sc119">"ZnetDK (server) - 3 letters in upper case are expected!"</span><span class="sc127">);</span><span class="sc118">
            </span><span class="sc121">return</span><span class="sc118"> </span><span class="sc121">false</span><span class="sc127">;</span><span class="sc118">
        </span><span class="sc127">}</span><span class="sc118"> </span><span class="sc121">else</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
            </span><span class="sc121">return</span><span class="sc118"> </span><span class="sc121">true</span><span class="sc127">;</span><span class="sc118">
        </span><span class="sc127">}</span><span class="sc118">
    </span><span class="sc127">}</span><span class="sc118">
    </span><span class="sc121">protected</span><span class="sc118"> </span><span class="sc121">function</span><span class="sc118"> check_fld_minvalue</span><span class="sc127">(</span><span class="sc123">$value</span><span class="sc127">)</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
        </span><span class="sc121">if</span><span class="sc118"> </span><span class="sc127">(</span><span class="sc123">$value</span><span class="sc118"> </span><span class="sc127">&lt;</span><span class="sc118"> </span><span class="sc122">10</span><span class="sc127">)</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
            </span><span class="sc123">$this</span><span class="sc127">-&gt;</span><span class="sc118">setErrorMessage</span><span class="sc127">(</span><span class="sc119">"ZnetDK (server) - enter a value &amp;gt;= 10!"</span><span class="sc127">);</span><span class="sc118">
            </span><span class="sc121">return</span><span class="sc118"> </span><span class="sc121">false</span><span class="sc127">;</span><span class="sc118">
        </span><span class="sc127">}</span><span class="sc118"> </span><span class="sc121">else</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
            </span><span class="sc121">return</span><span class="sc118"> </span><span class="sc121">true</span><span class="sc127">;</span><span class="sc118">
        </span><span class="sc127">}</span><span class="sc118">
    </span><span class="sc127">}</span><span class="sc118">
    
    </span><span class="sc121">protected</span><span class="sc118"> </span><span class="sc121">function</span><span class="sc118"> check_fld_maxvalue</span><span class="sc127">(</span><span class="sc123">$value</span><span class="sc127">)</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
        </span><span class="sc121">if</span><span class="sc118"> </span><span class="sc127">(</span><span class="sc123">$value</span><span class="sc118"> </span><span class="sc127">&gt;</span><span class="sc118"> </span><span class="sc122">25</span><span class="sc127">)</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
            </span><span class="sc123">$this</span><span class="sc127">-&gt;</span><span class="sc118">setErrorMessage</span><span class="sc127">(</span><span class="sc119">"ZnetDK (server) - enter a value &amp;lt;= 25!"</span><span class="sc127">);</span><span class="sc118">
            </span><span class="sc121">return</span><span class="sc118"> </span><span class="sc121">false</span><span class="sc127">;</span><span class="sc118">
        </span><span class="sc127">}</span><span class="sc118"> </span><span class="sc121">else</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
            </span><span class="sc121">return</span><span class="sc118"> </span><span class="sc121">true</span><span class="sc127">;</span><span class="sc118">
        </span><span class="sc127">}</span><span class="sc118">
    </span><span class="sc127">}</span><span class="sc118">
    
    </span><span class="sc121">protected</span><span class="sc118"> </span><span class="sc121">function</span><span class="sc118"> check_fld_date</span><span class="sc127">(</span><span class="sc123">$value</span><span class="sc127">)</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
        </span><span class="sc123">$date</span><span class="sc118"> </span><span class="sc127">=</span><span class="sc118"> \DateTime</span><span class="sc127">::</span><span class="sc118">createFromFormat</span><span class="sc127">(</span><span class="sc120">'Y-m-d'</span><span class="sc127">,</span><span class="sc118"> </span><span class="sc123">$value</span><span class="sc127">);</span><span class="sc118">
        </span><span class="sc121">if</span><span class="sc118"> </span><span class="sc127">(!</span><span class="sc123">$date</span><span class="sc127">)</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
            </span><span class="sc123">$this</span><span class="sc127">-&gt;</span><span class="sc118">setErrorMessage</span><span class="sc127">(</span><span class="sc119">"ZnetDK (server) - The date you've entered is invalid!"</span><span class="sc127">);</span><span class="sc118">
            </span><span class="sc121">return</span><span class="sc118"> </span><span class="sc121">false</span><span class="sc127">;</span><span class="sc118">
        </span><span class="sc127">}</span><span class="sc118"> </span><span class="sc121">else</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
            </span><span class="sc121">return</span><span class="sc118"> </span><span class="sc121">true</span><span class="sc127">;</span><span class="sc118">
        </span><span class="sc127">}</span><span class="sc118">
    </span><span class="sc127">}</span><span class="sc118">
    
    </span><span class="sc121">protected</span><span class="sc118"> </span><span class="sc121">function</span><span class="sc118"> check_fld_email</span><span class="sc127">(</span><span class="sc123">$value</span><span class="sc127">)</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
        </span><span class="sc121">if</span><span class="sc118"> </span><span class="sc127">(!</span><span class="sc118">filter_var</span><span class="sc127">(</span><span class="sc123">$value</span><span class="sc127">,</span><span class="sc118"> FILTER_VALIDATE_EMAIL</span><span class="sc127">))</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
            </span><span class="sc123">$this</span><span class="sc127">-&gt;</span><span class="sc118">setErrorMessage</span><span class="sc127">(</span><span class="sc119">"ZnetDK (server) - This is not a valid email address!"</span><span class="sc127">);</span><span class="sc118">
            </span><span class="sc121">return</span><span class="sc118"> </span><span class="sc121">false</span><span class="sc127">;</span><span class="sc118">
        </span><span class="sc127">}</span><span class="sc118"> </span><span class="sc121">else</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
            </span><span class="sc121">return</span><span class="sc118"> </span><span class="sc121">true</span><span class="sc127">;</span><span class="sc118">
        </span><span class="sc127">}</span><span class="sc118">
    </span><span class="sc127">}</span><span class="sc118">
    
    </span><span class="sc121">protected</span><span class="sc118"> </span><span class="sc121">function</span><span class="sc118"> check_fld_url</span><span class="sc127">(</span><span class="sc123">$value</span><span class="sc127">)</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
        </span><span class="sc121">if</span><span class="sc118"> </span><span class="sc127">(!</span><span class="sc118">filter_var</span><span class="sc127">(</span><span class="sc123">$value</span><span class="sc127">,</span><span class="sc118"> FILTER_VALIDATE_URL</span><span class="sc127">))</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
            </span><span class="sc123">$this</span><span class="sc127">-&gt;</span><span class="sc118">setErrorMessage</span><span class="sc127">(</span><span class="sc119">"ZnetDK (server) - This is not a valid URL!"</span><span class="sc127">);</span><span class="sc118">
            </span><span class="sc121">return</span><span class="sc118"> </span><span class="sc121">false</span><span class="sc127">;</span><span class="sc118">
        </span><span class="sc127">}</span><span class="sc118"> </span><span class="sc121">else</span><span class="sc118"> </span><span class="sc127">{</span><span class="sc118">
            </span><span class="sc121">return</span><span class="sc118"> </span><span class="sc121">true</span><span class="sc127">;</span><span class="sc118">
        </span><span class="sc127">}</span><span class="sc118">
    </span><span class="sc127">}</span><span class="sc118">

</span><span class="sc127">}</span><span class="sc118">
</span></div></body>
</html>
